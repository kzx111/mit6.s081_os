1. `x` 用来以指定格式查看内存的内容，和在程序中的数值类型没有关系。`print` 会根据表达式在程序中的类型输出值。但是也可以指定输出类型。

`print $pc` 用于打印程序计数器（Program Counter，PC）的当前值。

`x/2c $a1` 用于从寄存器 `$a1` 指向的内存地址开始，以字符形式显示 2 个字节的内容。这在调试时非常有用，尤其是检查字符串或字符数组时。

`print/x $satp` 用于以十六进制格式打印 RISC-V 架构中 `satp` 寄存器的值。这在调试操作系统或虚拟内存管理时非常有用，可以帮助你了解当前的地址转换模式和页表配置。

`l(打印源码list命令)` 可以查看当前源文件的位置

`x/3i 0xde2` 用于从内存地址 `0xde2` 开始，反汇编并显示 3 条指令。这在调试时非常有用，可以帮助你分析程序的执行流程或检查代码逻辑。

`stepi` 是 GDB 中用于单步执行一条机器指令的命令，适用于需要精确跟踪程序执行流程的场景。

利用**`file kernel/kernel`**在内核调试，而在用户程序调试则就是file user/_目标文件，例如，file user/__ls

从QEMU界面，输入`*ctrl a + c*`可以进入到QEMU的console

我在gdb中输入`tui enable`和`layout src`都可以打开对于C代码的展示，`lay split` 展现汇编代码。





`next` 最常用来进行单步调试的命令，其最大的特点是当遇到包含调用函数的语句时，无论函数内部包含多少行代码，next 指令都会一步执行完。也就是说，对于调用的函数来说，next 命令只会将其视作一行代码。

`step` 命令和 next 命令的功能相同，都是单步执行程序。不同之处在于，当 step 命令所执行的代码行中包含函数时，会进入该函数内部，并在函数第一行代码处停止执行。





用gdb调试程序时，当程序暂停后，可以用“`up n`”或“`down n`”命令向上或向下选择函数堆栈帧，其中`n`是层数。



 `finish`：执行完当前的函数。

 `tui`：是一个命令行的界面，能同时把代码显示出来。

 `until`：这个用于执行完循环，在执行完循环体内的最后一条语句之后执行 until, 就会执行完循环体到后面的一个语句停下。





`make CPUS=1 qemu-gdb` 使用QEMU模拟器运行xv6操作系统，同时通过GDB进行调试，且限制cpu数目为1.

`riscv64-unknown-elf-gdb`



`bt（backtrace）命令`： bt 命令用于获取当前线程的函数调用堆栈信息。它会显示当前线程中函数调用的序列，从当前位置回溯到程序的入口点。这有助于我们查看程序执行的路径，以找到问题所在。

`info stack`命令用于显示当前线程的调用堆栈的更详细信息，包括局部变量和寄存器值





`layout asm`可以观察到汇编代码 ; `layout reg`:可以观察到此时寄存器的信息，非常适合学习汇编语言。

`apropos  -v 命令`





